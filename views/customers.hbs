{{! Citation for the following file:
Date: 2021
Adapted from CS 340 Starter code:
Source URL: https://github.com/osu-cs340-ecampus/nodejs-starter-app}}

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Browse and Manage Customers</title>
  <link rel="stylesheet" href="/css/styles.css">
</head>
<body>
  <header>
    <a href="/" class="header-link">
      <h1>Browse and Manage Customers</h1>
    </a>
  </header>
  <nav class="nav-links">
    <a href="/orders" class="nav-button">Orders</a>
    <a href="/customers" class="nav-button">Customers</a>
    <a href="/shipments" class="nav-button">Shipments</a>
    <a href="/spice_silos" class="nav-button">Spice Silos</a>
    <a href="/harvesters" class="nav-button">Harvesters</a>
  </nav>

  <section>
    <h2>Existing Customers</h2>
    <table border="1" id="Customers-table">
      <thead>
        <tr>
          <th>Customer ID</th>
          <th>Name</th>
          <th>Planet</th>
          <th>Affiliation</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        {{#each data}}
        <tr data-value="{{this.customer_id}}">
          <td>{{this.customer_id}}</td>
          <td>{{this.name}}</td>
          <td>{{this.planet}}</td>
          <td>{{#if this.affiliation}}{{this.affiliation}}{{else}}N/A{{/if}}</td>
          <td>
            <button onclick="editCustomer({{this.customer_id}})">Edit</button>
            <button onclick="deleteCustomer({{this.customer_id}})">Delete</button>
          </td>
        </tr>
        {{/each}}
      </tbody>
    </table>
  </section>

  <section>
    <h2>Add New Customer</h2>
    <form id="add-customer-form-ajax">
      <label for="input-name">Name:</label>
      <input type="text" id="input-name" name="name" required autocomplete="name"><br><br>

      <label for="input-planet">Planet:</label>
      <input type="text" id="input-planet" name="planet" required autocomplete="off"><br><br>

      <label for="input-affiliation">Affiliation:</label>
      <input type="text" id="input-affiliation" name="affiliation" autocomplete="organization"><br><br>

      <button type="submit">Add Customer</button>
    </form>
  </section>

  <section>
    <h2>Update Customer Information</h2>
    <p>Select a customer to edit and update their details.</p>
    <form id="update-customer-form-ajax">
      <input type="hidden" id="customer-id-update" name="customer_id">

      <label for="input-name-update">Name: </label>
      <input type="text" id="input-name-update" name="name" required><br><br>

      <label for="input-planet-update">Planet: </label>
      <input type="text" id="input-planet-update" name="planet" required><br><br>

      <label for="input-affiliation-update">Affiliation: </label>
      <input type="text" id="input-affiliation-update" name="affiliation"><br><br>
      
      <button type="submit">Update Customer</button>
    </form>
  </section>

  <!-- Make sure these paths are correct for your project structure -->
  <script src="/js/customers/add_customer.js"></script>
  <script src="/js/customers/update_customer.js"></script>
  <script src="/js/customers/delete_customer.js"></script>
</body>
</html>